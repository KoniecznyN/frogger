(()=>{"use strict";const t=function(t,r,e,o,n){this.x=t,this.y=r,this.w=e,this.h=o,this.color=n};var r,e=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});const o=function(t){function r(r,e,o,n,i,c,s){var a=t.call(this,r,e,o,n,i)||this;return a.isAlive=!0,a.direction=c,a.speed=s,a}return e(r,t),r.prototype.move=function(t){this.destroy(),this.x+=this.direction*this.speed*(t/1e3)},r.prototype.destroy=function(){1==this.direction?this.x>=700&&(this.isAlive=!1):this.x<=-100&&(this.isAlive=!1)},r}(t);var n=function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},t(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const i=function(t){function r(r,e,o,n,i){var c=t.call(this,r,e,o,n,i)||this;return c.configureMove(),c}return n(r,t),r.prototype.configureMove=function(){var t=this;window.addEventListener("keydown",(function(r){"ArrowUp"==r.key&&t.y>0&&(t.y-=50),"ArrowDown"==r.key&&t.y<650&&(t.y+=50),"ArrowRight"==r.key&&t.x<650&&(t.x+=50),"ArrowLeft"==r.key&&t.x>0&&(t.x-=50)}))},r}(t);var c=document.getElementById("canvas"),s=c.getContext("2d");(new(function(){function t(){var t=this;this.frameRate=1e3/60,this.lastFrame=0,this.carSpawnTimer=0,this.gameLoop=function(r){var e=0;if(void 0===t.startTime)t.startTime=r;else{var n=Math.round((r-t.startTime)/t.frameRate);e=(n-t.lastFrame)*t.frameRate,t.carSpawnTimer+=e,t.lastFrame=n}t.cars=t.cars.filter((function(t){return t.isAlive})),t.carSpawnTimer>=1500&&(t.cars.push(new o(-100,650,100,50,"black",1,200)),t.cars.push(new o(700,600,100,50,"black",-1,180)),t.carSpawnTimer-=1500),s.clearRect(0,0,c.width,c.height),t.cars.forEach((function(t){t.move(e)})),t.draw(),requestAnimationFrame(t.gameLoop)}}return t.prototype.init=function(){console.log("start"),this.configureCanvas(),this.frog=this.createPlayer(),this.cars=this.createCars(),requestAnimationFrame(this.gameLoop)},t.prototype.configureCanvas=function(){c.width=700,c.height=700,s.fillStyle="red",s.fillRect(0,0,c.width,c.height)},t.prototype.createPlayer=function(){return new i(0,0,50,50,"green")},t.prototype.createCars=function(){return[new o(-100,650,100,50,"black",1,200),new o(700,600,100,50,"black",-1,180)]},t.prototype.draw=function(){this.cars.forEach((function(t){s.fillStyle=t.color,s.fillRect(t.x,t.y,t.w,t.h)})),s.fillStyle=this.frog.color,s.fillRect(this.frog.x,this.frog.y,this.frog.w,this.frog.h)},t}())).init()})();