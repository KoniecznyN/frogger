(()=>{"use strict";const t=function(t,i,e,n,r){this.x=t,this.y=i,this.w=e,this.h=n,this.color=r};var i,e=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=function(t){function i(i,e,n,r,o,s,a,h,c){var f=t.call(this,i,e,n,r,o)||this;return f.isAlive=!0,f.direction=s,f.speed=a,f.spritesheet=h,f.carNumber=c,f}return e(i,t),i.prototype.move=function(t){this.destroy(),this.x+=this.direction*this.speed*(t/1e3)},i.prototype.draw=function(t){t.drawImage(this.spritesheet,this.carNumber,100,this.w,this.h,this.x,this.y,this.w,this.h)},i.prototype.destroy=function(){1==this.direction?this.x>=700&&(this.isAlive=!1):this.x<=-this.w&&(this.isAlive=!1)},i}(t);const r=n;var o=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s=function(t){function i(i,e,n,r,o,s,a,h,c){var f=t.call(this,i,e,n,r,o)||this;return f.currentAnimation="flowers_idle",f.animationState="idle",f.idleDuration=1e3+3e3*Math.random(),f.stateTimer=0,f.frameIndex=0,f.frameTimer=0,f.isAnimating=!1,f.isHiding=!1,f.isHidden=!1,f.isAlive=!0,f.direction=s,f.speed=a,f.isHiding=Math.floor(101*Math.random())>60,f.animations=h,f.spritesheet=c,f.isHiding?(f.playAnimation("flowers_idle"),f.animationState="idle"):(f.playAnimation("flowers_idle"),f.isAnimating=!0),f}return o(i,t),i.prototype.move=function(t){this.destroy(),this.x+=this.direction*this.speed*(t/1e3)},i.prototype.draw=function(t){var i=this.animations[this.currentAnimation];if(i)for(var e=i.frames[this.frameIndex],n=this.w/50,r=0;r<n;r++)t.drawImage(this.spritesheet,e.x,e.y,e.w,e.h,this.x+50*r,this.y,50,50)},i.prototype.destroy=function(){this.x<=-this.w&&(this.isAlive=!1)},i.prototype.playAnimation=function(t){var i=this.animations[t];i&&i.frames&&i.times?(this.currentAnimation=t,this.frameIndex=0,this.frameTimer=i.times[0],this.isAnimating=!0):console.warn('Invalid animation "'.concat(t,'"'))},i.prototype.updateAnimation=function(t){var i=this.animations[this.currentAnimation];if(i&&(this.frameTimer-=t,this.frameTimer<=0&&(this.frameIndex++,this.frameIndex>=i.frames.length&&(i.repeat?this.frameIndex=0:(this.frameIndex=i.frames.length-1,this.isAnimating=!1)),this.frameTimer=i.times[this.frameIndex]),this.isHiding))switch(this.stateTimer+=t,this.animationState){case"idle":this.isHidden=!1,this.stateTimer>=this.idleDuration&&(this.playAnimation("flowers_hide"),this.animationState="hide",this.stateTimer=0,this.idleDuration=1e3+3e3*Math.random());break;case"hide":this.isAnimating||(this.playAnimation("flowers_hidden_idle"),this.animationState="hidden_idle",this.stateTimer=0);break;case"hidden_idle":this.isHidden=!0,this.stateTimer>=2e3&&(this.playAnimation("flowers_show"),this.animationState="show",this.stateTimer=0);break;case"show":this.isAnimating||(this.playAnimation("flowers_idle"),this.animationState="idle",this.stateTimer=0)}},i}(t);const a=s;var h=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c=function(t){function i(i,e,n,r,o,s,a,h){var c=t.call(this,i,e,n,r,o)||this;return c.isAlive=!0,c.direction=s,c.speed=a,c.spritesheet=h,c}return h(i,t),i.prototype.move=function(t){this.destroy(),this.x+=this.direction*this.speed*(t/1e3)},i.prototype.destroy=function(){1==this.direction?this.x>=700&&(this.isAlive=!1):this.x<=-100&&(this.isAlive=!1)},i.prototype.draw=function(t){for(var i=this.w/50,e=0;e<i;e++)0==e?t.drawImage(this.spritesheet,0,150,50,50,this.x,this.y,50,50):e==i-1?t.drawImage(this.spritesheet,100,150,50,50,this.x+50*e,this.y,50,50):t.drawImage(this.spritesheet,50,150,50,50,this.x+50*e,this.y,50,50)},i}(t);const f=c;var u=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l=function(t){function i(i,e,n,r,o,s,a){var h=t.call(this,i,e,n,r,o)||this;return h.currentAnimation="frog_up",h.frameIndex=0,h.frameTimer=0,h.isAnimating=!1,h.isDead=!1,h.checkCollisions=!0,h.inWater=!1,h.onWood=!1,h.onFlower=!1,h.hitByCar=!1,h.keyDown=function(t){var i=!1;"ArrowUp"===t.key&&(h.y=Math.max(0,h.y-50),h.playAnimation("frog_up"),i=!0),"ArrowDown"===t.key&&(h.y=Math.min(650,h.y+50),h.playAnimation("frog_down"),i=!0),"ArrowLeft"===t.key&&(h.x=Math.max(0,h.x-50),h.playAnimation("frog_left"),i=!0),"ArrowRight"===t.key&&(h.x=Math.min(650,h.x+50),h.playAnimation("frog_right"),i=!0),i&&(h.isAnimating=!0,h.frameIndex=0,h.frameTimer=h.animations[h.currentAnimation].times[0])},h.configureMovement(),h.animations=s,h.spritesheet=a,h}return u(i,t),i.prototype.configureMovement=function(){window.addEventListener("keydown",this.keyDown)},i.prototype.disableMovement=function(){window.removeEventListener("keydown",this.keyDown)},i.prototype.follow=function(t,i,e){this.x+=i*e*(t/1e3),0!=this.x&&650!=this.x||this.die()},i.prototype.collidesWith=function(t){return!(t instanceof a&&t.isHidden)&&this.x<t.x+t.w&&this.x+this.w>t.x&&this.y<t.y+t.h&&this.y+this.h>t.y},i.prototype.playAnimation=function(t){var i=this.animations[t];i&&i.frames&&i.times?(this.currentAnimation=t,this.frameIndex=0,this.frameTimer=i.times[0],this.isAnimating=!0):console.warn('Invalid animation "'.concat(t,'"'))},i.prototype.updateAnimation=function(t){if(this.isAnimating){var i=this.animations[this.currentAnimation];if(i&&(this.frameTimer-=t,this.frameTimer<=0)){if(this.frameIndex++,this.frameIndex>=i.frames.length){if(!i.repeat)return this.frameIndex=i.frames.length-1,void(this.isAnimating=!1);this.frameIndex=0}this.frameTimer=i.times[this.frameIndex]}}},i.prototype.draw=function(t){var i=this.animations[this.currentAnimation];if(i){var e=i.frames[this.frameIndex];t.drawImage(this.spritesheet,e.x,e.y,e.w,e.h,this.x,this.y,this.w,this.h)}},i.prototype.playDeathAnimation=function(){var t=this;return new Promise((function(i){t.playAnimation("frog_death"),t.isAnimating=!0,t.frameIndex=0,t.frameTimer=t.animations.frog_death.times[0];var e=t.animations.frog_death.times.reduce((function(t,i){return t+i}),0);setTimeout((function(){t.isAnimating=!1,i()}),e)}))},i.prototype.die=function(){return t=this,i=void 0,n=function(){return function(t,i){var e,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(h){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(e=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=i.call(t,o)}catch(t){a=[6,t],n=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}}(this,(function(t){switch(t.label){case 0:return this.isDead=!0,this.checkCollisions=!1,this.disableMovement(),[4,this.playDeathAnimation()];case 1:return t.sent(),this.x=350,this.y=650,this.checkCollisions=!0,this.isDead=!1,this.configureMovement(),this.playAnimation("frog_up"),[2]}}))},new((e=void 0)||(e=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}h((n=n.apply(t,i||[])).next())}));var t,i,e,n},i}(t);const p=l;var d=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),w=function(t){function i(i,e,n,r,o,s){var a=t.call(this,i,e,n,r,o)||this;return a.spritesheet=s,a}return d(i,t),i.prototype.draw=function(t){t.drawImage(this.spritesheet,0,250,this.w,this.h,this.x,this.y,this.w,this.h)},i}(t);const y=w;var m=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v=function(t){function i(i,e,n,r,o){return t.call(this,i,e,n,r,o)||this}return m(i,t),i.prototype.checkCollisions=function(t){return t.x<this.x+this.w&&t.x+t.w>this.x&&t.y<this.y+this.h&&t.y+t.h>this.y},i.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.w,this.h)},i}(t),g=(new v(0,100,700,250,"#000047"),function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),x=function(t){function i(i,e,n,r,o){return t.call(this,i,e,n,r,o)||this}return g(i,t),i.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.w,this.h)},i}(t),b=(new x(0,400,700,250,"black"),new function(){var t=this;this.loadSpritesheet=function(){return new Promise((function(i){var e=new Image;e.src="../src/frogger_spritesheet.png",e.onload=function(){t.spritesheet=e,i()}}))}}),A=function(t,i,e,n){return new(e||(e=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}h((n=n.apply(t,i||[])).next())}))},_=function(t,i){var e,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(h){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(e=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=i.call(t,o)}catch(t){a=[6,t],n=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}},S=function(){function t(t,i,e){var n=this;this.layout=[],this.roadArr=[],this.waterArr=[],this.safeZoneArr=[],this.loadSpritesheet=function(){return A(n,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return[4,b.loadSpritesheet()];case 1:return t.sent(),[2]}}))}))},this.w=t,this.h=i,this.unit=e}return t.prototype.init=function(){return A(this,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return[4,this.loadSpritesheet()];case 1:return t.sent(),this.createBlankMap(this.w,this.h,this.unit),this.fillMap(),console.log(this.layout),[2]}}))}))},t.prototype.createBlankMap=function(t,i,e){t/=e,i/=e;for(var n=0;n<i;n++){for(var r=[],o=0;o<t;o++)r.push(null);this.layout.push(r)}},t.prototype.fillMap=function(){for(var t=0;t<this.layout.length;t++)for(var i=this.layout[t],e=0;e<i.length;e++){if(7==t||13==t){var n=new y(e*this.unit,t*this.unit,50,50,"purple",b.spritesheet);this.safeZoneArr.push(n),i[e]=n}if(0==t||1==t||2==t||3==t||4==t||5==t||6==t){var r=new v(e*this.unit,t*this.unit,50,50,"#000047");this.waterArr.push(r),i[e]=r}if(8==t||9==t||10==t||11==t||12==t){var o=new x(e*this.unit,t*this.unit,50,50,"black");this.roadArr.push(o),i[e]=o}}},t.prototype.draw=function(t){for(var i=0;i<this.layout.length;i++)for(var e=this.layout[i],n=0;n<e.length;n++)(e[n]instanceof x||e[n]instanceof v||e[n]instanceof y)&&e[n].draw(t)},t}(),I=new S(700,700,50),T=function(t,i,e,n){return new(e||(e=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}h((n=n.apply(t,i||[])).next())}))},O=function(t,i){var e,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(h){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(e=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=i.call(t,o)}catch(t){a=[6,t],n=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}},k=document.getElementById("canvas"),D=k.getContext("2d");(new(function(){function t(){var t=this;this.frameRate=1e3/60,this.lastFrame=0,this.carSpawnTimer={first:0,second:0,third:0,fourth:0,fifth:0},this.carSpawnIndex={first:0,second:0,third:0,fourth:0,fifth:0},this.cars=[],this.flowersSpawnTimer={first:0,second:0},this.flowersSpawnIndex={first:0,second:0},this.flowers=[],this.woodSpawnTimer={first:0,second:0,third:0,fourth:0,fifth:0},this.woodSpawnIndex={first:0,second:0,third:0,fourth:0,fifth:0},this.woods=[],this.map=I,this.water=I.waterArr,this.road=I.roadArr,this.safeZones=I.safeZoneArr,this.receiveData=function(i){return T(t,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,fetch("../data/".concat(i,".json"))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.loadSpritesheet=function(){return T(t,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,b.loadSpritesheet()];case 1:return t.sent(),this.spritesheet=b.spritesheet,[2]}}))}))},this.gameLoop=function(i){var e=0;if(void 0===t.startTime)t.startTime=i;else{var n=Math.round((i-t.startTime)/t.frameRate);for(var r in e=(n-t.lastFrame)*t.frameRate,t.lastFrame=n,t.carSpawnTimer)t.carSpawnTimer[r]+=e;for(var r in t.flowersSpawnTimer)t.flowersSpawnTimer[r]+=e;for(var r in t.woodSpawnTimer)t.woodSpawnTimer[r]+=e}t.spawnCars("first",{x:-100,y:600},50,1,100,100),t.spawnCars("second",{x:700,y:550},50,-1,120,0),t.spawnCars("third",{x:-100,y:500},50,1,130,150),t.spawnCars("fourth",{x:700,y:450},50,-1,100,50),t.spawnCars("fifth",{x:700,y:400},100,-1,120,200),t.cars=t.cars.filter((function(t){return t.isAlive})),t.spawnFlowers("first",{x:700,y:300},150,150),t.spawnFlowers("second",{x:700,y:150},100,150),t.flowers=t.flowers.filter((function(t){return t.isAlive})),t.spawnWood("first",{x:-150,y:250},150,150),t.spawnWood("second",{x:-350,y:200},350,170),t.spawnWood("third",{x:-200,y:100},200,150),t.woods=t.woods.filter((function(t){return t.isAlive})),D.clearRect(0,0,k.width,k.height),t.checkCollisions(e),t.cars.forEach((function(t){t.move(e)})),t.flowers.forEach((function(t){t.move(e)})),t.woods.forEach((function(t){t.move(e)})),t.updateAnimations(e),t.draw(),requestAnimationFrame(t.gameLoop)}}return t.prototype.init=function(){return T(this,void 0,void 0,(function(){var t,i,e,n;return O(this,(function(r){switch(r.label){case 0:return console.log("start"),I.init(),t=this,[4,this.receiveData("cars")];case 1:return t.carsData=r.sent(),i=this,[4,this.receiveData("flowers")];case 2:return i.flowersData=r.sent(),e=this,[4,this.receiveData("woods")];case 3:return e.woodsData=r.sent(),n=this,[4,this.receiveData("animations")];case 4:return n.animationsData=r.sent(),[4,this.loadSpritesheet()];case 5:return r.sent(),this.createPlayer(),this.createSafeZones(),this.configureCanvas(),requestAnimationFrame(this.gameLoop),[2]}}))}))},t.prototype.configureCanvas=function(){k.width=700,k.height=700,D.fillStyle="red",D.fillRect(0,0,k.width,k.height)},t.prototype.createPlayer=function(){this.frog=new p(350,650,50,50,"green",this.animationsData,this.spritesheet)},t.prototype.createSafeZones=function(){this.safeZones.push(new y(0,650,700,50,"purple",this.spritesheet)),this.safeZones.push(new y(0,350,700,50,"purple",this.spritesheet))},t.prototype.spawnCars=function(t,i,e,n,o,s){this.carSpawnTimer[t]>=this.carsData[t][this.carSpawnIndex[t]]&&(this.cars.push(new r(i.x,i.y,e,50,"white",n,o,this.spritesheet,s)),this.carSpawnTimer[t]-=this.carsData[t][this.carSpawnIndex[t]],this.carSpawnIndex[t]+=1,5==this.carSpawnIndex[t]&&(this.carSpawnIndex[t]=0))},t.prototype.spawnFlowers=function(t,i,e,n){this.flowersSpawnTimer[t]>=this.flowersData[t][this.flowersSpawnIndex[t]]&&(this.flowers.push(new a(i.x,i.y,e,50,"pink",-1,n,this.animationsData,this.spritesheet)),this.flowersSpawnTimer[t]-=this.flowersData[t][this.flowersSpawnIndex[t]],this.flowersSpawnIndex[t]+=1,4==this.flowersSpawnIndex[t]&&(this.flowersSpawnIndex[t]=0))},t.prototype.spawnWood=function(t,i,e,n){this.woodSpawnTimer[t]>=this.woodsData[t][this.woodSpawnIndex[t]]&&(this.woods.push(new f(i.x,i.y,e,50,"brown",1,n,this.spritesheet)),this.woodSpawnTimer[t]-=this.woodsData[t][this.woodSpawnIndex[t]],this.woodSpawnIndex[t]+=1,3==this.woodSpawnIndex[t]&&(this.woodSpawnIndex[t]=0))},t.prototype.checkCollisions=function(t){var i=this;if(this.frog.checkCollisions){this.frog.onWood=!1,this.frog.onFlower=!1,this.frog.inWater=!1,this.frog.hitByCar=!1;for(var e=0,n=this.flowers;e<n.length;e++){var r=n[e];if(this.frog.collidesWith(r)){this.frog.onFlower=!0;break}}for(var o=0,s=this.woods;o<s.length;o++){var a=s[o];if(this.frog.collidesWith(a)){this.frog.onWood=!0;break}}for(var h=0,c=this.cars;h<c.length;h++){var f=c[h];if(this.frog.collidesWith(f)){this.frog.hitByCar=!0;break}}for(var u=0,l=this.water;u<l.length;u++){var p=l[u];if(this.frog.collidesWith(p)){this.frog.inWater=!0;break}}if(this.frog.isDead||!this.frog.hitByCar&&(!this.frog.inWater||this.frog.onWood||this.frog.onFlower)||this.frog.die(),this.frog.onWood&&(a=this.woods.find((function(t){return i.frog.collidesWith(t)})),this.frog.follow(t,a.direction,a.speed)),this.frog.onFlower){var d=this.flowers.find((function(t){return i.frog.collidesWith(t)}));this.frog.follow(t,d.direction,d.speed)}}},t.prototype.draw=function(){I.draw(D),this.cars.forEach((function(t){t.draw(D)})),this.flowers.forEach((function(t){t.draw(D)})),this.woods.forEach((function(t){t.draw(D)})),this.frog.draw(D)},t.prototype.updateAnimations=function(t){this.frog.updateAnimation(t),this.flowers.forEach((function(i){i.updateAnimation(t)}))},t}())).init()})();