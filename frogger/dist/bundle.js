(()=>{"use strict";const t=function(t,r,o,e,n){this.x=t,this.y=r,this.w=o,this.h=e,this.color=n};var r,o=(r=function(t,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},r(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),e=function(t){function r(r,o,e,n,i,s,c){var a=t.call(this,r,o,e,n,i)||this;return a.isAlive=!0,a.direction=s,a.speed=c,a}return o(r,t),r.prototype.move=function(t){this.destroy(),this.x+=this.direction*this.speed*(t/1e3)},r.prototype.destroy=function(){1==this.direction?this.x>=700&&(this.isAlive=!1):this.x<=-100&&(this.isAlive=!1)},r.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.w,this.h)},r}(t);const n=e;var i=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),s=function(t){function r(r,o,e,n,i){var s=t.call(this,r,o,e,n,i)||this;return s.configureMove(),s}return i(r,t),r.prototype.configureMove=function(){var t=this;window.addEventListener("keydown",(function(r){"ArrowUp"==r.key&&t.y>0&&(t.y-=50),"ArrowDown"==r.key&&t.y<650&&(t.y+=50),"ArrowRight"==r.key&&t.x<650&&(t.x+=50),"ArrowLeft"==r.key&&t.x>0&&(t.x-=50)}))},r.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.w,this.h)},r.prototype.die=function(){this.x=350,this.y=650},r}(t);const c=s;var a=document.getElementById("canvas"),h=a.getContext("2d");(new(function(){function t(){var t=this;this.frameRate=1e3/60,this.lastFrame=0,this.carSpawnTimer=0,this.cars=[],this.gameLoop=function(r){var o=0;if(void 0===t.startTime)t.startTime=r;else{var e=Math.round((r-t.startTime)/t.frameRate);o=(e-t.lastFrame)*t.frameRate,t.carSpawnTimer+=o,t.lastFrame=e}t.carSpawnTimer>=3e3&&(t.cars.push(new n(-100,600,100,50,"black",1,100)),t.cars.push(new n(700,550,100,50,"black",-1,120)),t.cars.push(new n(-100,500,100,50,"black",1,130)),t.cars.push(new n(700,450,100,50,"black",-1,140)),t.cars.push(new n(-100,400,100,50,"black",1,150)),t.carSpawnTimer-=3e3),t.cars=t.cars.filter((function(t){return t.isAlive})),h.clearRect(0,0,a.width,a.height),t.cars.forEach((function(t){t.move(o)})),t.checkCollisions(),t.draw(),requestAnimationFrame(t.gameLoop)}}return t.prototype.init=function(){console.log("start"),this.configureCanvas(),this.frog=this.createPlayer(),requestAnimationFrame(this.gameLoop)},t.prototype.configureCanvas=function(){a.width=700,a.height=700,h.fillStyle="red",h.fillRect(0,0,a.width,a.height)},t.prototype.createPlayer=function(){return new c(350,650,50,50,"green")},t.prototype.draw=function(){this.cars.forEach((function(t){t.draw(h)})),this.frog.draw(h)},t.prototype.checkCollisions=function(){var t=this;this.cars.forEach((function(r){t.frog.x<r.x+r.w&&t.frog.x+t.frog.w>r.x&&t.frog.y<r.y+r.h&&t.frog.y+t.frog.h>r.y&&t.frog.die()}))},t}())).init()})();